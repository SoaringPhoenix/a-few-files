HTTP/1.1 200 OK
Server: nginx
Date: Tue, 29 Jan 2019 09:50:43 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
X-Powered-By: PHP/5.6.12
Content-Length: 5620

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="UTF-8">
<meta content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport"/>
<title>作业帮WebView API</title>
<style>
li{
margin:10px;
}
</style>
</head>
<body>
<h2>外部吊起app</h2>
<ol>
<li>
webview吊起作业帮App:  <a href="askhomework://com.baidu.homework?from=fengchao1">吊起</a>
</li>
</ol>
<h2>内部吊起</h2>
<ol>
<li>
*获取公共参数common:  <button id="common">执行</button>
</li>

<li>
*判断是否登录is_login:  <button id="is_login">执行</button>
</li>

<li>
调用登录login:  <button id="login">执行</button>
</li>

<li>
只返回登陆状态loginForResult:  <button id="loginForResult">执行</button>
</li>

<li>
获取用户信息getuserinfo:  <button id="getuserinfo">执行</button>
</li>

<li>
打开新页面openWindow:  <button id="openWindow">执行</button>
</li>

<li>
退出当前页面exit:  <button id="exit">执行</button>
</li>

<li>
播放视频playVideo:  <button id="playVideo">执行</button>
</li>

<li>
播放视频移动网络提示playVideoHint:  <button id="playVideoHint">执行</button>
</li>

<li>
显示一个toast:  <button id="toast">Toast</button>
</li>

<li>
拨打电话dial:  <button id="dial">执行</button>
</li>

<li>
复制到剪切板copyToClipboard:  <button id="copyToClipboard">执行</button>
</li>

<li>
分享:  <button id="share">Share</button>
</li>

<li>
展示web页大图showWebPicture:  <button id="showWebPicture">执行</button>
</li>

<li>
打开相机openCamera:  <button id="openCamera">执行</button>
</li>

<li>
webActivity是否禁用手势返回swapBack:  <button id="swapBack">执行</button>
</li>

<li>
跳转Activity统一action startActivity:  <button id="startActivity">执行</button>
</li>

<li>
页面缩放动作开始searchResultZoomStart:  <button id="searchResultZoomStart">执行</button>
</li>

<li>
下载多媒体数据（图片，视频，音乐，文档，通用）downloadMedia:  <button id="downloadMedia">执行</button>
</li>

<li>
 调用Vibrator vibrate<button id="vibrate">执行</button>
</li>

<li>
 调用邀请对话框 invite<button id="invite">执行</button>
</li>

<li>
 进入填写地址详情页面，如果填写成功，将会返回RESULT_OK address<button id="address">执行</button>
</li>

<li>
进入待解决列表页面 unsolved_questionlist<button id="unsolved_questionlist">执行</button>
</li>

<li>
进入填学校页面 fill_school<button id="fill_school">执行</button>
</li>

<li>
我的物品页 my_gift<button id="my_gift">执行</button>
</li>

<li>
开始刮卡 scrape_card<button id="scrape_card">执行</button>
</li>

<li>
赚刮刮卡 earn_card<button id="earn_card">执行</button>
</li>

<li>
进入帖子页 article<button id="article">执行</button>
</li>

<li>
进入商城 mall_home<button id="mall_home">执行</button>
</li>

<li>
进入中考密卷 midtest<button id="midtest">执行</button>
</li>

<li>
获取地理位置 getLocation<button id="getLocation">执行</button>
</li>

<li>
在检索结果页面的webview显示UGC入口 ugc<button id="ugc">执行</button>
</li>

<li>
收藏本加载更多 loadmore<button id="loadmore">执行</button>
</li>

<li>
收藏本空回调 loadempty<button id="loadempty">执行</button>
</li>

<li>
检索结果页获取巩固练习数量 exerciseCnt<button id="exerciseCnt">执行</button>
</li>

<li>
SearchResult页面跳到知识卡片的action knowledgeCard<button id="knowledgeCard">执行</button>
</li>

<li>
英语单元作文中拼完作文素材到得到完整的一篇作文，更新文章详情页的rightbutton showComposition<button id="showComposition">执行</button>
</li>

<li>
英文单元作文详情首页返回到作文列表 backCompositionList<button id="backCompositionList">执行</button>
</li>

<li>
文言文全文及译文页面点击跳转到更多词义页面 backToClassicalMoreMeaningPage<button id="backToClassicalMoreMeaningPage">执行</button>
</li>

<li>
调用Native登录操作,使用于邦邦商城 loginMall<button id="loginMall">执行</button>
</li>

<li>
获取webview位置 webviewIndex<button id="webviewIndex">执行</button>
</li>

<li>
检索结果导流打点 universalLaunchPage<button id="universalLaunchPage">执行</button>
</li>

<li>
获取sid getSid<button id="getSid">执行</button>
</li>

<li>
猜你想拍二期 feedback<button id="feedback">执行</button>
</li>

<li>
下载笔迹数据解析成JSON传给fe downLoadPenData<button id="downLoadPenData">执行</button>
</li>

<li>
跳转EvaluationActivity goEvaluation<button id="goEvaluation">执行</button>
</li>

<li>
调微博分享文字接口，用于"话题" weiboShare<button id="weiboShare">执行</button>
</li>

<li>
视频回放页菜单弹出 playbackMenu<button id="playbackMenu">执行</button>
</li>

<li>
升级检测 updateCheck<button id="updateCheck">执行</button>
</li>

<li>
作文大赛投稿的action contributeComposition<button id="contributeComposition">执行</button>
</li>

<li>
作文大赛出书的action publishComposition<button id="publishComposition">执行</button>
</li>

<li>
作文大赛投稿时完善个人信息 completeInfo<button id="completeInfo">执行</button>
</li>

<li>
文言文背诵控制录音按钮显示 reciteRecordVoiceButtonShow<button id="reciteRecordVoiceButtonShow">执行</button>
</li>

<li>
跳转到优惠券的页面 goToCouponList<button id="goToCouponList">执行</button>
</li>

<li>
添加日历提醒 AddToCalendarWebAction<button id="AddToCalendarWebAction">执行</button>
</li>

<li>
黑珍珠展示多图 showWebMultiPicture<button id="showWebMultiPicture">执行</button>
</li>

<li>
隐藏输入法框 hideInput<button id="hideInput">执行</button>
</li>

<li>
设置页面随输入法伸缩 setSoftInputResize<button id="setSoftInputResize">执行</button>
</li>

<li>
调用手机自带浏览器 打开网页 openWebPager<button id="openWebPager">执行</button>
</li>

<li>
排行榜显示右上角按钮 rankInfo<button id="rankInfo">执行</button>
</li>

<li>
跳转到套餐列表页面 tutorpack<button id="tutorpack">执行</button>
</li>

<li>
显示跳转投诉的对话框 faqShowComplaint<button id="faqShowComplaint">执行</button>
</li>

<li>
显示联系我们对话框 faqShowContactUs<button id="faqShowContactUs">执行</button>
</li>

<li>
显示ufo反馈界面 <button id="faqShowUfo">执行</button>
</li>

<li>
为h5运营提供的拍照或从图库取一个图片上传 cameraUpload<button id="cameraUpload">执行</button>
</li>

<li>
打开原生浏览器 openBrowser<button id="openBrowser">执行</button>
</li>

<li>
跳转到个人信息界面 goToPersonalInfor<button id="goToPersonalInfor">执行</button>
</li>

<li>
跳转到称号修改页面 goToUserTitleAction<button id="goToUserTitleAction">执行</button>
</li>

<li>
跳转到用户资料修改页面 goToUserProfile<button id="goToUserProfile">执行</button>
</li>

<li>
是否展示webActivity的分享按钮 show_share<button id="show_share">执行</button>
</li>

<li>
打开缓存列表 openCachelist<button id="openCachelist">执行</button>
</li>

<li>
跳转到平台通用支付页 platformPay<button id="platformPay">执行</button>
</li>

<li>
打开游戏WebActivity openGameWindow<button id="openGameWindow">执行</button>
</li>

<li>
打开游戏奖励弹窗 openGameRewardBox<button id="openGameRewardBox">执行</button>
</li>

<li>
通用跳转 APPJumpProtocol<button id="APPJumpProtocol">执行</button>
</li>

<li>
转人工客服 openOnlineService<button id="openOnlineService">执行</button>
</li>

<li>
广告点击功能根据btype内部跳转、外部跳转、下载等 commonClick<button id="commonClick">执行</button>
</li>

<li>
知识宇宙 跳转到首页 universeKnowledgeHome<button id="universeKnowledgeHome">执行</button>
</li>

<li>
知识宇宙 跳转到专辑列表页 universeKnowledgeAlbum<button id="universeKnowledgeAlbum">执行</button>
</li>

<li>
知识宇宙 跳转到播放页面 universeKnowledgePlayFM<button id="universeKnowledgePlayFM">执行</button>
</li>

<li>
调用Native登录操作 reLoginDialog<button id="reLoginDialog">执行</button>
</li>

<li>
滑动退出滑动冲突上报冲突控件 slidingExitState<button id="slidingExitState">执行</button>
</li>

<li>
feed details 判断linkurl 是不是 null isShowVideosInArticle<button id="isShowVideosInArticle">执行</button>
</li>

<li>
是否禁止back键（只能用于WebActivity中） forbidBack<button id="forbidBack">执行</button>
</li>

<li>
跳转到搜索题目详情页 goSearchResult<button id="goSearchResult">执行</button>
</li>

<li>
打开机器人聊天页面 openRobotChat<button id="openRobotChat">执行</button>
</li>

<li>
跳转到绑定手机号页面 goBindPhone<button id="goBindPhone">执行</button>
</li>

<!-- <li>
 <button id="">执行</button>
</li>

<li>
 <button id="">执行</button>
</li> -->
</ol>

<script>
function HybridApi(){
	var protocol = "iknowhybrid://";
	var callbackCount = 0;
	function createBridge(src){
		var bridge = document.createElement("iframe");
		bridge.setAttribute("style", "display:none;");
		bridge.setAttribute("height","0px");
		bridge.setAttribute("width","0px");
		bridge.setAttribute("frameborder","0");
		document.documentElement.appendChild(bridge);
		return bridge;
	}
	//action必填，其他的选填
	function buildUrl(action,params,callback){
		var url = protocol+action+"?";
		url+="data="+encodeURIComponent(JSON.stringify(params||{}));
		if(callback){
			var callbackName = "__cb__"+callbackCount++;
			window[callbackName] = function(){
				callback && callback.apply(window,arguments);
			}
			url += "&__callback__="+callbackName;
		}
		return url;
	}
	this.exec = function(action,params,callback){
		var bridge = createBridge();
		bridge.setAttribute('src',buildUrl(action,params,callback));
		setTimeout(function(){
				bridge.parentNode.removeChild(bridge);
				bridge = null;
				},0);
	}
}
var hybridApi = new HybridApi();
document.querySelector("#jsOpenCourseList").onclick = function(){
	hybridApi.exec("goToSeasonClass",{subjectId:3,showFilter:true,seasonId:2,gradeId:20,title:"语文长期班课%……&3333"});
}
document.querySelector("#toast").onclick = function(){
	hybridApi.exec("toast",{text:"hello"});
}
document.querySelector("#login").onclick = function(){
	hybridApi.exec("login");
}
document.querySelector("#exit").onclick = function(){
	hybridApi.exec("exit");
}
document.querySelector("#is_login").onclick = function(){
	hybridApi.exec("is_login",{},function(result){
			hybridApi.exec("toast",{text:result.isLogin+""});
			});
}
document.querySelector("#vibrate").onclick = function(){
	hybridApi.exec("vibrate");
}
document.querySelector("#invite").onclick = function(){
	hybridApi.exec("invite");
}
document.querySelector("#share").onclick = function(){
	hybridApi.exec("share",{share_text:"这是分享的文字",share_text_weibo:"这是缀在分享文字后给微博额外添加的文字",share_img:"",share_url:"http://wapiknow.baidu.com"});
}
document.querySelector("#address").onclick = function(){
	window.onSubmitSuccess = function(){
		hybridApi.exec("toast",{text:"地址提交成功"});
	}
	hybridApi.exec("address",{address_id:5});
}
document.querySelector("#unsolved_questionlist").onclick = function(){
	hybridApi.exec("unsolved_questionlist");
}
document.querySelector("#fill_school").onclick = function(){
	window.setSchool = function(schoolName){
		hybridApi.exec("toast",{text:schoolName});
	}
	hybridApi.exec("fill_school");
}
document.querySelector("#go_school").onclick = function(){
	hybridApi.exec("go_school");
}
document.querySelector("#my_gift").onclick = function(){
	hybridApi.exec("my_gift");
}
document.querySelector("#earn_card").onclick = function(){
	hybridApi.exec("earn_card");
}
document.querySelector("#scrape_card").onclick = function(){
	hybridApi.exec("scrape_card");
}
document.querySelector("#photo_show").onclick = function(){
	hybridApi.exec("photo_show");
}
document.querySelector("#article").onclick = function(){
	hybridApi.exec("article",{article_qid:"adfsdfdsf"});
}
document.querySelector("#stat").onclick = function(){
	hybridApi.exec("stat",{action:"JS_XXXX",params:{key1:"key2",key2:"key2"}});
}
document.querySelector("#getLocation").onclick = function(){
	hybridApi.exec("getLocation",{},function(res){
			alert(JSON.stringify(res));
			});
}
document.querySelector("#openWindow").onclick = function(){
	hybridApi.exec("openWindow",{url:"http://www.hao123.com"});
}
document.querySelector("#common").onclick = function(){
	hybridApi.exec("common",{},function(params){
			alert(params.cuid);
			});
}
</script>
</body>
</html>

